<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Báo Cáo - HRM</title>
    <link rel="stylesheet" href="../shared/styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .report-container {
        background: var(--color-gray-100);
        min-height: 100vh;
        padding-top: var(--space-6);
        padding-bottom: var(--space-6);
      }

      .chart-card {
        background: var(--color-white);
        border: 3px solid var(--color-black);
        padding: var(--space-5);
        height: 100%;
        display: flex;
        flex-direction: column;
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .chart-card:hover {
        transform: translateY(-2px);
        box-shadow: 4px 4px 0px rgba(0, 0, 0, 0.1);
      }

      .chart-header {
        margin-bottom: var(--space-4);
        border-bottom: 2px solid var(--color-gray-100);
        padding-bottom: var(--space-3);
        flex-shrink: 0;
        text-align: center;
      }

      .chart-title {
        font-family: var(--font-heading);
        font-size: 1.25rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }

      .overview-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: var(--space-6);
        margin-top: var(--space-8);
        margin-bottom: var(--space-8);
      }

      .overview-card {
        background: var(--color-black);
        color: var(--color-white);
        padding: var(--space-4);
        text-align: center;
        border: 1px solid var(--color-black);
        transition: transform 0.2s ease;
      }

      .overview-card:hover {
        transform: translateY(-4px);
        background: var(--color-red);
        border-color: var(--color-red);
      }

      .overview-number {
        font-family: var(--font-heading);
        font-size: 3rem;
        font-weight: 700;
        color: var(
          --color-white
        ); /* Changed to white for better contrast on black/red */
        line-height: 1.2;
        margin-bottom: var(--space-1);
      }

      .overview-label {
        font-size: 0.875rem;
        text-transform: uppercase;
        letter-spacing: 1px;
        opacity: 0.8;
      }

      /* Layout Utilities for this page */
      .layout-grid-2 {
        display: grid;
        grid-template-columns: 1fr 2fr;
        gap: var(--space-6);
        margin-bottom: var(--space-6);
      }

      .layout-grid-1 {
        display: grid;
        grid-template-columns: 1fr;
        gap: var(--space-6);
      }

      @media (max-width: 900px) {
        .layout-grid-2 {
          grid-template-columns: 1fr;
        }
      }

      @media (max-width: 768px) {
        .overview-grid {
          grid-template-columns: 1fr 1fr;
          gap: var(--space-3);
        }
        .overview-number {
          font-size: 2rem;
        }
      }
    </style>
  </head>
  <body>
    <!-- Navigation -->
    <nav class="nav">
      <div class="container nav-container">
        <a
          href="dashboard.html"
          class="nav-logo"
          style="
            display: flex;
            align-items: center;
            gap: 12px;
            text-decoration: none;
          "
        >
          <img
            src="../shared/logo.png"
            alt="Logo"
            style="height: 40px; width: auto"
          />
          <span>CỔNG CÁN BỘ</span>
        </a>
        <ul class="nav-menu">
          <li><a href="dashboard.html" class="nav-link">Dashboard</a></li>
          <li><a href="profile.html" class="nav-link">Hồ sơ</a></li>
          <li><a href="cv.html" class="nav-link">CV</a></li>
          <li><a href="qualifications.html" class="nav-link">Trình độ</a></li>
          <li><a href="report.html" class="nav-link active">Báo cáo</a></li>
          <li><a href="#" class="nav-link" onclick="logout()">Đăng xuất</a></li>
        </ul>
      </div>
    </nav>

    <div class="report-container">
      <div class="container">
        <div class="flex items-center mb-6" style="gap: var(--space-3)">
          <button
            onclick="window.history.back()"
            class="btn btn-outline"
            style="padding: 12px 20px; font-size: 1.5rem; line-height: 1"
          >
            ←
          </button>
          <h1 style="margin: 0">BÁO CÁO TỔNG QUAN</h1>
        </div>

        <!-- Overview Stats -->
        <div class="overview-grid" id="kpiStats">
          <div class="overview-card">
            <div class="overview-number" id="kpiProfile">0%</div>
            <div class="overview-label">HỒ SƠ</div>
          </div>
          <div class="overview-card">
            <div class="overview-number" id="kpiCV">0</div>
            <div class="overview-label">CV LƯU TRỮ</div>
          </div>
          <div class="overview-card">
            <div class="overview-number" id="kpiSkills">0</div>
            <div class="overview-label">KỸ NĂNG</div>
          </div>
          <div class="overview-card">
            <div class="overview-number" id="kpiExp">0</div>
            <div class="overview-label">Kinh nghiệm (Năm)</div>
          </div>
        </div>

        <!-- Charts Grid -->
        <div class="layout-grid-2">
          <!-- Profile Completeness (Donut) -->
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">MỨC ĐỘ HOÀN THIỆN</div>
            </div>
            <div
              style="
                position: relative;
                height: 300px;
                display: flex;
                justify-content: center;
              "
            >
              <canvas id="profileChart"></canvas>
            </div>
          </div>

          <!-- Skills Radar -->
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">PHÂN TÍCH NĂNG LỰC</div>
            </div>
            <div style="position: relative; height: 300px">
              <canvas id="skillsChart"></canvas>
            </div>
          </div>
        </div>

        <div class="layout-grid-1">
          <!-- Activity Timeline (Line) -->
          <div class="chart-card">
            <div class="chart-header">
              <div class="chart-title">
                LỊCH SỬ HOẠT ĐỘNG (6 THÁNG GẦN NHẤT)
              </div>
            </div>
            <div style="position: relative; height: 300px">
              <canvas id="activityChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="js/api.js"></script>
    <script src="js/app.js"></script>
    <script src="js/report.js"></script>
  </body>
</html>
